<div class="form-container">
  <h2>Buscar Formulario por Programa</h2>
  <form [formGroup]="formularioBusqueda" (ngSubmit)="buscarFormulario()">
    <div class="form-group">
      <label for="nombrePrograma">Nombre del Programa:</label>
      <input
        id="nombrePrograma"
        type="text"
        formControlName="nombrePrograma"
        class="form-control"
        placeholder="Ingrese el nombre del programa"
      />
    </div>
    <button type="submit" class="btn btn-primary">Buscar</button>
  </form>

  <div *ngIf="error" class="alert alert-danger">{{ error }}</div>

  <div *ngIf="camposFormulario.length > 0">
    <h2>Diligenciar Formulario</h2>
    <form [formGroup]="formularioForm" (ngSubmit)="diligenciarFormulario()">
      <div *ngFor="let campo of camposFormulario" class="form-group">
        <label [for]="campo.nombre">{{ campo.nombre }}</label>
        <input
          *ngIf="campo.tipo === 'string'"
          [id]="campo.nombre"
          [formControlName]="campo.nombre"
          type="text"
          class="form-control"
          placeholder="Ingrese {{ campo.nombre }}"
          required
        />
        <input
          *ngIf="campo.tipo === 'number'"
          [id]="campo.nombre"
          [formControlName]="campo.nombre"
          type="number"
          class="form-control"
          placeholder="Ingrese {{ campo.nombre }}"
          required
        />
        <div *ngIf="formularioForm.get(campo.nombre)?.invalid && formularioForm.get(campo.nombre)?.touched">
          <span *ngIf="formularioForm.get(campo.nombre)?.errors?.['required']">
            {{ campo.nombre }} es requerido.
          </span>
        </div>
      </div>
      <button type="submit" class="btn btn-primary" [disabled]="formularioForm.invalid">Enviar</button>
    </form>
  </div>
</div>
