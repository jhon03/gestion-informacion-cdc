<div class="container">
  <h2>ðŸ“‹ Selecciona un programa</h2>

  <mat-form-field appearance="fill" class="full-width">
    <mat-label>Programa</mat-label>
    <mat-select name="programa" [(ngModel)]="idProgramaSeleccionado" (selectionChange)="onProgramaSeleccionado()">
      <mat-option *ngFor="let programa of programas" [value]="programa.idPrograma">
        {{ programa.nombrePrograma }} 
      </mat-option>
    </mat-select>
  </mat-form-field>

  <div *ngIf="nombrePrograma">
    <h2>ðŸ“‚ PlaneaciÃ³n del programa: <strong>{{ nombrePrograma }}</strong></h2>
  </div>

  <div *ngIf="archivos.length === 0 && nombrePrograma" class="alert alert-info">
    No hay archivos de planeaciÃ³n disponibles para este programa.
  </div>

  <table mat-table [dataSource]="archivos" *ngIf="archivos.length > 0"
         class="mat-elevation-z2 full-width-table table table-striped mt-3">

    <!-- Nombre -->
    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef> Nombre del archivo </th>
      <td mat-cell *matCellDef="let archivo"> {{ archivo.name }} </td>
    </ng-container>

    <!-- Tipo -->
    <ng-container matColumnDef="tipo">
      <th mat-header-cell *matHeaderCellDef> Tipo </th>
      <td mat-cell *matCellDef="let archivo"> {{ getTipoArchivo(archivo.name) }} </td>
    </ng-container>

    <!-- Acciones -->
    <ng-container matColumnDef="acciones">
      <th mat-header-cell *matHeaderCellDef> Acciones </th>
      <td mat-cell *matCellDef="let archivo">
        <a mat-button color="primary" [href]="archivo.webUrl" target="_blank">Ver</a>
        <a mat-button color="accent" [href]="archivo.downloadUrl" target="_blank">Descargar</a>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
  </table>
</div>